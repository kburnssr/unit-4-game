<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Unit-4-Game</title>
    <link rel="stylesheet" type="text/css" href="./assets/css/reset.css" />
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css" />
    <!--       CrystalsCollector!-->
    <a href="index.html" id="logo">CrystalCollector!</a>
</head>

<body>

    <div id="instructions">
        <p>You will be given a random number at the start of the game</p><br>
        <p>There are four crystals below. By clicking on a crystal you will add a specific amount of points to your
            total score.</p><br>
        <p>You win the game by matching your total score to the random number. You lose the game if your total score
            goes above the random number</p><br>
        <p>The value of each crystal is hidden from you until you click on it.</p><br>
        <p>Each time when the game starts, the game will change the values of each crystal.</p><br><br>
    </div>

    <!--<h1 id="randNumToMatch" class = "clearfix"></h1>-->
    <h1 id="randNumToMatch"></h1>
    <div id="wins">
        Wins:<span id="wins-value"></span>
    </div>
    <div id="losses">
        Losses:<span id="losses-value"></span>
    </div>
    <br>
    <div id="images">
        <button class="button" id="red"><img src="./assets/images/red.png"></button>
        <button class="button" id="blue"><img src="./assets/images/blue.png"></button>
        <button class="button" id="yellow"><img src="./assets/images/yellow.png"></button>
        <button class="button" id="green"><img src="./assets/images/green.png"></button>
        <br>
    </div>
    <div id="score-title">
        Your total score =
    </div>
    <div id="yourTotalScore"></div>

    <!-- Added link to the jQuery Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        /*Start of game*/
        var wins = 0;
        var losses = 0;
        var yourTotalScore = 0;
        var n = 0;
        var crystalVal = {
            "red": 0,
            "blue": 0,
            "yellow": 0,
            "green" : 0
        };
        var init = function(){
            n = Math.floor(Math.random() * (121 - 19) + 19);
            $('#randNumToMatch').text(n);
            yourTotalScore = 0;
            for(var k in crystalVal){
                crystalVal[k] = Math.ceil(Math.random()*19)
            }
        };
        init();
        $('#wins-value').text(wins);
        $('#losses-value').text(losses);
        $('#randNumToMatch').text(n);
        $("#yourTotalScore").text(yourTotalScore);
        $('button').on('mousedown', function (e) {
            var button = $(e.target).parent()[0]; 
            yourTotalScore += crystalVal[button.id];
            if (yourTotalScore == n) {
                wins = wins + 1;
                $('#wins-value').text(wins);
                init();
            } else if (yourTotalScore > n) {
                losses = losses + 1;
                $('#losses-value').text(losses);
                init();
            }
            $("#yourTotalScore").text(yourTotalScore);
        })
/*                var type = $(this).attr('data-type'));*/
    </script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">

        </script>

</body>

</html>